!function(a){"use strict";a(function(){a(document).on("change",".js-es-preferred-radio",function(){a(".js-es-preferred-radio:checked").not(this).removeProp("checked").removeAttr("checked")}),a(document).on("click",".js-es-entity-form.post-type-agent #publish",function(b){var c=a(".js-es-user-pwd"),d=c.closest(".es-field");if(c.trigger("keyup"),!a("#es-user-pwd").hasClass("es-hidden"))return d.find(".es-validate-item").length===d.find(".es-validate-item--active").length||(c[0].setCustomValidity(EstatikAgentMetabox.tr.invalid_password_format),c[0].reportValidity(),b.preventDefault(),!1)}),a(document).on("keyup change",".js-es-user-pwd, .js-es-user-email, #title[name=post_title]",function(){var b=a(this).closest("#post"),c=b.find(".js-es-user-pwd"),d=c.val(),e=c.closest(".es-field"),f=b.find(".js-es-user-email");if(!a("#es-user-pwd").hasClass("es-hidden")){var g=b.find("[name=post_title]"),h=/[a-zA-Z0-9]/g;e.find(".es-validate-item__contain").toggleClass("es-validate-item--active",g!==d&&d!==f.val()),e.find(".es-validate-item__length").toggleClass("es-validate-item--active",d.length>=8),e.find(".es-validate-item__char").toggleClass("es-validate-item--active",h.test(d))}}),a(document).on("change",".js-es-has-user[type=radio]",function(){var b=+a(this).val(),c=a("#es-user-pwd"),d=a("#es-user-id"),e=a(this).closest("form"),f=e.find(".js-es-user-pwd"),g=e.find(".js-es-user-email"),h=g.closest(".es-field").find(".es-field__label");1===b?(c.addClass("es-hidden"),d.removeClass("es-hidden"),EstatikFramework.initFields(d),g.removeProp("required").removeAttr("required"),h.find(".es-required").remove(),f.prop("required","required").attr("required","required").prop("disabled","disabled").attr("disabled","disabled")):(c.removeClass("es-hidden"),d.addClass("es-hidden"),g.prop("required","required").attr("required","required"),h.find(".es-required").length||h.append("<span class='es-required'> *</span>"),f.hasClass("js-es-user-exists")?f.removeProp("required").removeAttr("required").removeProp("disabled").removeAttr("disabled"):f.removeProp("disabled").removeAttr("disabled"))}),a(".js-es-has-user:checked").trigger("change")})}(jQuery);